<div class="main-container">
<h3>Detecciones del proyecto</h3>
<div class="table-container">
  <button (click)="navigateToDetect()">Realizar Nueva Detección</button>
  <table>
    <thead>
      <tr>
        <th>Día</th>
        <th>Número de Detecciones</th>
        <th>Detalles</th>
      </tr>
    </thead>
    <tbody>
      @for (deteccion of detecciones ;track $index){
        <tr>
          <td>{{ deteccion.fechaCreacion }}</td>
          <td>{{ deteccion.cantidad }}</td>
          <td>
            <button (click)="navigateToDetection(deteccion.fechaCreacion)">Detalles</button>
          </td>
        </tr>
      }
    </tbody>
  </table>
</div>

<h3>Restricciones del proyecto</h3>

<div class="restrictions-container">
  <button (click)="showModal()">Crear Nueva Restricción</button>
  <table>
    <thead>
      <tr>
        <th>ID Restricción</th>
        <th>Objeto con Restricción</th>
        <th>Desde</th>
        <th>Hasta</th>
      </tr>
    </thead>
    <tbody>
      @for (restriccion of restricciones ;track $index){
        <tr>
          <td>{{ restriccion.idRestriccion }}</td>
          <td>{{ restriccion.objeto }}</td>
          <td>{{ restriccion.fechaDesde }}</td>
          <td>{{ restriccion.fechaHasta }}</td>
        </tr>
      }
    </tbody>
  </table>
</div>
<div id="createRestriccionModal" class="modal">
  <div class="modal-content">
    <span class="close" (click)="closeModal()">&times;</span>
    <h2>Crear nueva restricción</h2>
    <form [formGroup]="fb">
      <label for="objeto">Objeto con restricción:</label>
      <input type="text" formControlName="objeto" id="objeto" placeholder="Introduce el objeto" required />
      
      <label for="fechaDesde">Desde:</label>
      <input type="date" formControlName="fechaDesde" id="fechaDesde" required />
      
      <label for="fechaHasta">Hasta:</label>
      <input type="date" formControlName="fechaHasta" id="fechaHasta" required />
      
      <label for="cantidad">Cantidad:</label>
      <input type="number" formControlName="cantidad" id="cantidad" placeholder="Introduce la cantidad" required />
      
      <button type="submit" (click)="createRestriccion()">Crear</button>
    </form>
  </div>
</div>
</div>